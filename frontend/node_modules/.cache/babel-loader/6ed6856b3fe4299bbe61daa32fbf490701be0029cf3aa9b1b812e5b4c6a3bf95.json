{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\diego\\\\source\\\\repos\\\\PrograWEBEv\\\\frontend\\\\src\\\\screens\\\\ProjectDetail.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport axios from '../axios';\nimport Input from '../components/Input';\nimport Button from '../components/Button';\nimport '../styles/ProjectDetail.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProjectDetail = () => {\n  _s();\n  const [project, setProject] = useState(null);\n  const [newTitle, setNewTitle] = useState('');\n  const [newDescription, setNewDescription] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const {\n    id\n  } = useParams(); // Obtener el ID del proyecto desde la URL\n\n  useEffect(() => {\n    // Obtener los detalles del proyecto al cargar el componente\n    axios.get(`/api/projects/${id}`).then(response => {\n      setProject(response.data);\n      setNewTitle(response.data.title);\n      setNewDescription(response.data.description);\n    }).catch(error => {\n      setError('Error al obtener el proyecto');\n      console.error(error);\n    });\n  }, [id]);\n  const handleEdit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n    try {\n      const updatedProject = {\n        title: newTitle,\n        description: newDescription\n      };\n\n      // Enviar solicitud para actualizar el proyecto\n      const response = await axios.put(`/api/projects/${id}`, updatedProject, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n\n      // Actualizar el proyecto en el estado local\n      setProject(response.data);\n      setLoading(false);\n      alert('Proyecto actualizado correctamente');\n    } catch (err) {\n      setError('Error al actualizar el proyecto');\n      setLoading(false);\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"project-detail\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this), project ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: project.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: project.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Editar Proyecto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: newTitle,\n          onChange: e => setNewTitle(e.target.value),\n          placeholder: \"Nuevo t\\xEDtulo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          value: newDescription,\n          onChange: e => setNewDescription(e.target.value),\n          placeholder: \"Nueva descripci\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleEdit,\n          disabled: loading,\n          children: loading ? 'Actualizando...' : 'Actualizar Proyecto'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"buttons\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate('/projects'),\n          children: \"Volver a la lista\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => navigate(`/projects/edit/${id}`),\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Cargando proyecto...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(ProjectDetail, \"KGZNiwieyCQRS9mv9ngTm9iYuiU=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = ProjectDetail;\nexport default ProjectDetail;\nvar _c;\n$RefreshReg$(_c, \"ProjectDetail\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","axios","Input","Button","jsxDEV","_jsxDEV","Fragment","_Fragment","ProjectDetail","_s","project","setProject","newTitle","setNewTitle","newDescription","setNewDescription","loading","setLoading","error","setError","navigate","id","get","then","response","data","title","description","catch","console","handleEdit","e","preventDefault","updatedProject","put","headers","Authorization","localStorage","getItem","alert","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","target","placeholder","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/diego/source/repos/PrograWEBEv/frontend/src/screens/ProjectDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from '../axios';\r\nimport Input from '../components/Input';\r\nimport Button from '../components/Button';\r\nimport '../styles/ProjectDetail.css';\r\n\r\nconst ProjectDetail = () => {\r\n  const [project, setProject] = useState(null);\r\n  const [newTitle, setNewTitle] = useState('');\r\n  const [newDescription, setNewDescription] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();  // Obtener el ID del proyecto desde la URL\r\n\r\n  useEffect(() => {\r\n    // Obtener los detalles del proyecto al cargar el componente\r\n    axios.get(`/api/projects/${id}`)\r\n      .then(response => {\r\n        setProject(response.data);\r\n        setNewTitle(response.data.title);\r\n        setNewDescription(response.data.description);\r\n      })\r\n      .catch(error => {\r\n        setError('Error al obtener el proyecto');\r\n        console.error(error);\r\n      });\r\n  }, [id]);\r\n\r\n  const handleEdit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const updatedProject = {\r\n        title: newTitle,\r\n        description: newDescription,\r\n      };\r\n\r\n      // Enviar solicitud para actualizar el proyecto\r\n      const response = await axios.put(`/api/projects/${id}`, updatedProject, {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n\r\n      // Actualizar el proyecto en el estado local\r\n      setProject(response.data);\r\n      setLoading(false);\r\n      alert('Proyecto actualizado correctamente');\r\n    } catch (err) {\r\n      setError('Error al actualizar el proyecto');\r\n      setLoading(false);\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"project-detail\">\r\n      {error && <p className=\"text-red-500\">{error}</p>}\r\n      \r\n      {project ? (\r\n        <>\r\n          <h2>{project.title}</h2>\r\n          <p>{project.description}</p>\r\n\r\n          <div className=\"edit-form\">\r\n            <h3>Editar Proyecto</h3>\r\n            <Input\r\n              type=\"text\"\r\n              value={newTitle}\r\n              onChange={(e) => setNewTitle(e.target.value)}\r\n              placeholder=\"Nuevo título\"\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              value={newDescription}\r\n              onChange={(e) => setNewDescription(e.target.value)}\r\n              placeholder=\"Nueva descripción\"\r\n            />\r\n            <Button onClick={handleEdit} disabled={loading}>\r\n              {loading ? 'Actualizando...' : 'Actualizar Proyecto'}\r\n            </Button>\r\n          </div>\r\n\r\n          <div className=\"buttons\">\r\n            <Button onClick={() => navigate('/projects')}>Volver a la lista</Button>\r\n            <Button onClick={() => navigate(`/projects/edit/${id}`)}>Editar</Button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <p>Cargando proyecto...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProjectDetail;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}